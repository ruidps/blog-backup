{"pages":[{"title":"about","text":"","link":"/about/index.html"},{"title":"服务监控","text":"","link":"/status/index.html"}],"posts":[{"title":"Hello World","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","link":"/2021/hello-world/"},{"title":"FORBIDDEN&#x2F;12&#x2F;index read-only &#x2F; allow delete (api)-Elasticsearch&#x2F;Logstash错误","text":"logstash日志中显示 [FORBIDDEN/12/index read-only / allow delete (api)] logstash无法向elasticsearch写入文档，原因大致是硬盘已满导致。 硬盘已满时elasticsearch由于没有空间无法索引更多的文档，而将自己切换为只读状态，以确保只读查询的可用性。 此时无法写入，且增加/清理空间后也不会自动恢复。 可以发送以下命令来手动关闭elasticsearch的只读状态 1curl -XPUT -H &quot;Content-Type: application/json&quot; http://localhost:9200/_all/_settings -d '{&quot;index.blocks.read_only_allow_delete&quot;: null}' 如果使用docker将elk安装在一个系统中，可能因为logstash日志过多而塞满硬盘导致以上问题。 使用下面脚本清理docker的日志 12345678echo &quot;======== start clean docker containers logs ========&quot;logs=$(find /var/lib/docker/containers/ -name *-json.log)for log in $logs do echo &quot;clean logs : $log&quot; cat /dev/null &gt; $log doneecho &quot;======== end clean docker containers logs ========&quot;","link":"/2021/2021-7-5/"}],"tags":[{"name":"elasticsearch","slug":"elasticsearch","link":"/tags/elasticsearch/"},{"name":"logstash","slug":"logstash","link":"/tags/logstash/"},{"name":"error","slug":"error","link":"/tags/error/"}],"categories":[{"name":"错误处理","slug":"错误处理","link":"/categories/%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/"}]}